(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],p=0,u=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],a=!0,r=1;r<i.length;r++){var c=i[r];0!==n[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0076":function(t,e,i){},"025e":function(t,e,i){"use strict";i.r(e),i.d(e,"decodeRichText",(function(){return n})),i.d(e,"decodeImgSrc",(function(){return s})),i.d(e,"getCookie",(function(){return o})),i.d(e,"setCookie",(function(){return r})),i.d(e,"isMobile",(function(){return c})),i.d(e,"parseDiffImg",(function(){return l}));i("28a5");var a=i("f940");function n(t){return t=a("|*|",'"',t),t=a("|**|","'",t),t}function s(t,e){return t=a("[%base%]",e,t),t}function o(t){for(var e=t+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){var n=i[a].trim();if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}function r(t,e,i,a){var n,s;o(t).length>1||(a?document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;":(s=864e5*i,n=new Date,n.setTime(n.getTime()+s),document.cookie=t+"="+e+";expires="+n.toGMTString()+";SameSite=Strict;"))}function c(){return screen.width<480}function l(t,e){return!e||e.length<1?null:-1!=e.indexOf("cos")?"https://"+e:t+e}},"14f4":function(t,e,i){"use strict";i("ef0a")},"17d6":function(t,e,i){},"19e7":function(t,e,i){t.exports=i.p+"img/image.134b1207.svg"},3130:function(t,e,i){"use strict";i("f830")},"3b4a":function(t,e,i){},"44e1":function(t,e,i){},4829:function(t,e,i){},5380:function(t,e,i){"use strict";i("4829")},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var a=i("2b0e"),n=function(){var t=this,e=t._self._c;return t.loaded?e("div",{attrs:{id:"app"}},[e("topping",{directives:[{name:"show",rawName:"v-show",value:t.showTopping,expression:"showTopping"}],attrs:{base:t.api_base,toppingLogo:t.theme["Topping-Logo"].val}}),e("hheader",{ref:"headerRef",attrs:{id:"hheader",base:t.api_base,leftLogo:t.theme["Side-Logo"].val,centerLogo:t.theme["Center-Logo"].val,socialMedia:t.social_media}}),e("navs",{attrs:{id:"nnavs",navs:t.navs}}),e("div",{ref:"contentsRef",attrs:{id:"contents"}},[e("transition",{attrs:{name:"fade"}},[e("keep-alive",{attrs:{exclude:"post"}},[e("router-view",{attrs:{base:t.api_base,siteName:t.site.title,siteDes:t.site.desText,files:t.files}})],1)],1)],1),e("ffooter",{directives:[{name:"show",rawName:"v-show",value:t.showFooter,expression:"showFooter"}],attrs:{id:"ffooter",base:t.api_base,bottomLogo:t.theme["Footer-Logo"].val,icpNum:t.theme["China-ICP-License"].val}})],1):t._e()},s=[],o=new a["a"],r=(i("7f7f"),i("4328")),c=i("bc3a"),l=i("025e");function d(t,e,i){c.get(g(t,e)).then((function(t){i(t.data)})).catch((function(t){i({status:!1,msg:t,data:null})}))}function p(t,e,i){var a=r.stringify(e);c.post(t,a).then((function(t){i(t.data)})).catch((function(t){i({status:!1,msg:t,data:null})}))}function u(t,e){if(!l.getCookie("isjeffcom")){var i=parseInt(Math.ceil(1e3*Math.random())*Date.parse(new Date)/1e7);l.setCookie("isjeffcom",i,e,!1);var a={userAgent:navigator.userAgent,userLanguage:navigator.language,appName:navigator.appName,platform:navigator.platform};p(t,a,(function(t){if(t.status){var i=t.data;-1!=i.region.indexOf("CN")&&l.setCookie("v_region","CN",e,!1)}}))}}function h(t,e){var i={pid:e};p(t,i,(function(t){t.status}))}function g(t,e){if(e.length>0){t+="?";for(var i=0;i<e.length;i++)t=i==e.length-1?t+e[i].name+"="+e[i].val:t+e[i].name+"="+e[i].val+"&"}return t}var m,f,v,b,_,w,y=i("025e"),x=i("f351"),k=i.n(x),T=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"hheader"}},[e("div",{attrs:{id:"hheader-inner"}},[e("div",{ref:"hl",attrs:{id:"hheader-left"},on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:t.parseTitleImg(t.leftLogo),alt:"Logo"}})]),e("div",{ref:"hc",attrs:{id:"hheader-center"}},[e("img",{attrs:{id:"hheader-center-logo",src:t.parseTitleImg(t.centerLogo),alt:"Name"}}),e("img",{attrs:{id:"hheader-center-upbtn",src:i("deef"),alt:"Name"}})]),e("div",{attrs:{id:"hheader-right"}},["post"==t.mode||t.mobileView?t._e():e("div",{staticClass:"hheader-sm"},t._l(t.socialMedia,(function(i){return e("div",{key:i.id,staticClass:"hheader-sm-single"},[e("a",{attrs:{href:i.url}},[e("img",{staticClass:"hheader-sm-single-img",attrs:{src:t.parseTitleImg(i.icon),alt:i.name}})])])})),0),"post"==t.mode?e("div",{staticClass:"hheader-switcher"},[e("span",{staticClass:"hheader-switcher-single",style:0==t.lang?"font-weight: bold;":"font-weight: normal;",on:{click:function(e){return t.switchLang(0,!1)}}},[t._v("ENG")]),e("span",[t._v(" / ")]),e("span",{staticClass:"hheader-switcher-single",style:1==t.lang?"font-weight: bold;":"font-weight: normal;",on:{click:function(e){return t.switchLang(1,!1)}}},[t._v("中文")])]):t._e()])])])},C=[],I={name:"hheader",props:{base:String,leftLogo:String,centerLogo:String,socialMedia:Array},components:{},data:function(){return{nameLogoShown:!0,animating:!1,lang:0,mobileView:Object(y["isMobile"])(),mode:"home"}},watch:{$route:"initial"},mounted:function(){if(this.mobileView){var t=document.getElementById("hheader-center"),e=document.getElementById("hheader-left"),i=document.getElementById("hheader-right");window.addEventListener("scroll",(function(){window.scrollY>10?(t.style.opacity=1,e.style.opacity=0,i.style.top="-13px"):(t.style.opacity=0,e.style.opacity=1,i.style.top="5px")})),window.addEventListener("orientationchange",(function(){90==screen.orientation.angle||-90==screen.orientation.angle?t.style.top="-40px":t.style.top="0px"})),90==screen.orientation.angle||-90==screen.orientation.angle?t.style.top="-40px":t.style.top="0px"}},created:function(){this.initial()},methods:{initial:function(){var t=this;this.lang=parseInt(this.$route.query.lang),this.mode=this.$route.name,this.mobileView&&("home"==this.mode||"blog"==this.mode?this.$nextTick((function(){t.$refs.hl.style.left="41%",t.$refs.hc.style.left="0px"})):this.$nextTick((function(){t.$refs.hl.style.left="2%",t.$refs.hc.style.left=screen.width>320?"-108px":"-80px"})))},switchLang:function(t,e){this.lang=t,e||o.$emit("switchLang",t)},back:function(){1==history.length?this.$router.push("home"):this.$route.query.from?this.$router.push(this.$route.query.from):this.$router.push("home")},parseTitleImg:function(t){return Object(y["parseDiffImg"])(this.base,t)}}},D=I,L=(i("768d"),i("2877")),$=Object(L["a"])(D,T,C,!1,null,"60cd171e",null),O=$.exports,S=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"topping"}},[e("div",{attrs:{id:"topping-inner"}},[e("img",{attrs:{src:t.parseTitleImg(t.toppingLogo),alt:"Topping logo"}})])])},j=[],A={name:"topping",props:{base:String,toppingLogo:String},methods:{parseTitleImg:function(t){return Object(y["parseDiffImg"])(this.base,t)}}},N=A,E=(i("abec"),Object(L["a"])(N,S,j,!1,null,"5be9e2f8",null)),P=E.exports,M=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ffooter"}},[e("div",{attrs:{id:"f-inner"}},[e("div",{attrs:{id:"f-logo"},on:{click:t.toTop}},[e("img",{attrs:{src:t.parseTitleImg(t.bottomLogo),alt:"logo"}})]),e("div",{attrs:{id:"f-info"}},[e("span",[t._v("Design by JIANFENG WU | Powered by POSTER "),e("a",{attrs:{href:"http://www.miit.gov.cn/"}},[t._v(t._s(t.icpNum.length>0?"| "+t.icpNum:""))])])])])])},R=[],z={name:"ffooter",props:{bottomLogo:String,icpNum:String,base:String},components:{},data:function(){return{}},created:function(){},methods:{toTop:function(){k()(0,0,{ease:"inOutQuart",duration:500})},parseTitleImg:function(t){return Object(y["parseDiffImg"])(this.base,t)}}},V=z,q=(i("d601"),Object(L["a"])(V,M,R,!1,null,"0ac95c7e",null)),H=q.exports,F=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"navshow"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{id:"navs"}},[e("div",{attrs:{id:"navs-inner"}},t._l(t.navs,(function(i){return e("div",{key:i.id,staticClass:"navs-single"},[e("a",{attrs:{href:i.url}},[t._v(t._s(i.name))])])})),0)])])},W=[],X={name:"navs",props:{navs:Array},data:function(){return{show:!0}},watch:{$route:"initial"},created:function(){this.initial()},methods:{initial:function(){"post"===this.$route.name?this.show=!1:this.show=!0}}},B=X,J=(i("69e2"),Object(L["a"])(B,F,W,!1,null,"1964bac8",null)),Y=J.exports,G={name:"app",components:{topping:P,hheader:O,navs:Y,ffooter:H},metaInfo:function(){return{title:this.metaTitle,titleTemplate:"%s - "+this.site.title,meta:[{name:"description",content:this.metaDes}],htmlAttrs:{lang:"en",amp:!0}}},data:function(){return{api_base:"https://api.isjeff.com",api_site:"/front/home/",api_track:"/updater/visit/",mode:"home",pid:"1",loaded:!1,site:{},theme:{},navs:[],social_media:[],files:[],headerY:0,showTopping:!1,showFooter:!1,animating:!1,currentPosi:0,delay:3e3,damping:20,dontDisplayAni:!1,metaTitle:"Welcome",metaDes:"Hello"}},created:function(){var t=this,e=this;this.dontDisplayAni="true"==Object(y["getCookie"])("topping"),this.getSiteData(),setTimeout((function(){u(t.api_base+t.api_track,1)}),1e3),o.$on("set-meta",(function(t){e.setMeta(t)})),o.$on("show-footer",(function(t){e.showFot(t)}))},methods:{scrollToMain:function(){this.animating=!0;var t=this,e=this.delay;setTimeout((function(){t.loaded?k()(0,t.headerY,{ease:"inOutQuart",duration:500}):t.showTopping=!1}),e),setTimeout((function(){t.showTopping=!1,t.animating=!1,t.currentPosi=1}),e+550),Object(y["setCookie"])("topping",!0,3,!1)},showFot:function(t){this.showFooter=t},setMeta:function(t){this.metaTitle=t.title,this.metaDes=t.des},getSiteData:function(){var t=this,e=this;d(this.api_base+this.api_site,[],(function(i){if(i.status){var a=i.data,n=a.site,s=a.sm,o=a.nav;n.title=Object(y["decodeRichText"])(n.title),n.subtitle=Object(y["decodeRichText"])(n.subtitle),n.desText=Object(y["decodeRichText"])(n.desText),n.seoTitle=Object(y["decodeRichText"])(n.seoTitle),e.theme=JSON.parse(Object(y["decodeRichText"])(n.data_struct)),n.data_struct="",e.site=n,e.social_media=s,e.navs=o,e.files=[{name:"PDF-Portfolio",val:e.theme["PDF-Portfolio"]},{name:"CV-English",val:e.theme["CV-English"]},{name:"CV-Chinese",val:e.theme["CV-Chinese"]}],e.loaded=!0,t.showTopping=!1,e.$nextTick((function(){e.headerY=e.$refs.headerRef.$el.offsetTop,e.setMeta({title:"Home",des:t.site.desText})}))}}))}}},U=G,Q=(i("3130"),Object(L["a"])(U,n,s,!1,null,null,null)),K=Q.exports,Z=i("8c4f"),tt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"all"}},[t.mobileView?t._e():e("div",{ref:"namecardTrigger",attrs:{id:"namecard-trigger"}},[e("div",{ref:"namecardContainer",attrs:{id:"namecard-cont"}},[e("namecard")],1)]),t.mobileView?t._e():e("div",{ref:"namecardBg",style:"\n            transform: translateX(".concat(t.namecardEnabled?0:-500,"px);\n            opacity: ").concat(t.namecardEnabled?1:0,";\n            pointer-events: ").concat(t.namecardEnabled?"auto":"none"),attrs:{id:"namecard-bg"}}),e("div",{attrs:{id:"posts"}},[e("div",{attrs:{id:"posts-inner"}},t._l(t.postsList,(function(i){return e("div",{key:i._id,staticClass:"post-single"},[e("router-link",{attrs:{to:{path:"/post",query:{pid:i._id,from:"home"}}}},[e("div",{staticClass:"post-single-title"},[e("span",[t._v(t._s(i.title))])]),e("div",{staticClass:"post-single-filter"}),e("img",{attrs:{src:t.parseTitleImg(i.title_img),alt:i.title}})])],1)})),0)]),t.postsTotal>9?e("div",{attrs:{id:"pagination"}},[e("div",{attrs:{id:"p-nav"}},[e("div",{staticClass:"p-single arrow-left",style:1===t.page?"opacity: .1":"opacity: 1",on:{click:function(e){return t.sPage(0)}}}),e("div",{staticClass:"p-single arrow-right",style:t.page===t.pagesTotal?"opacity: .1":"opacity: 1",on:{click:function(e){return t.sPage(1)}}})])]):t._e(),e("div",{attrs:{id:"files"}},[e("div",{staticClass:"files-cont"},t._l(t.files,(function(i,a){return e("div",{key:a,staticClass:"file-single"},[e("div",{staticClass:"file-single-inner"},[e("a",{staticStyle:{display:"flex","margin-left":"auto","margin-right":"auto"},attrs:{href:-1!=i.val.val.indexOf("http")?i.val.val:t.base+i.val.val,target:"_blank"}},[t._m(0,!0),e("div",{staticClass:"file-down-name"},[e("span",[t._v(t._s(i.name))])])])])])})),0)])])},et=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"file-down-icon"},[e("img",{attrs:{src:i("6369"),alt:""}})])}],it=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"namecard"}},[e("div",{attrs:{id:"namecard-avatar-cont"}},[e("avatar",{attrs:{canvasHeight:411,canvasWidth:423}})],1),e("div",{attrs:{id:"namecard-info-cont"}},[e("div",{attrs:{id:"namecard-profile-pic"}},[e("div",{attrs:{id:"namecard-profile-pic-inner"}},[e("img",{attrs:{src:"./assets/img/namecard/head.png",alt:"head"}})])]),e("div",{attrs:{id:"namecard-profile-name"}},[e("div",{attrs:{id:"namecard-profile-name-inner"}},[e("img",{attrs:{src:"./assets/img/namecard/name.svg",alt:"name"}})]),t._m(0)])]),e("div",{attrs:{id:"namecard-action-area"}},[e("div",{attrs:{id:"namecard-actions"}},[e("div",{staticClass:"na-btn"},[e("a",{attrs:{href:"Mailto:hello@isjeff.com"}},[e("div",{staticClass:"na-btn-icon na-svg"},[e("img",{attrs:{src:"./assets/img/namecard/namecard-icon-mail-light.svg",alt:"email me"}})])]),t._m(1)]),e("div",{staticClass:"na-btn",on:{click:t.shareNC}},[e("div",{staticClass:"na-btn-icon na-svg"},[e("img",{attrs:{src:"./assets/img/namecard/namecard-icon-share-light.svg",alt:"email me"}})]),t._m(2)])])]),e("div",{attrs:{id:"namecard-person"}},[e("div",{staticClass:"nc-person-s"},[e("div",{staticClass:"nc-person-icon na-svg"},[e("img",{attrs:{src:"./assets/img/namecard/namecard-icon-vr-light.svg",alt:""}})]),t._m(3)]),e("div",{staticClass:"nc-person-s"},[e("div",{staticClass:"nc-person-icon na-svg"},[e("img",{attrs:{src:"./assets/img/namecard/namecard-icon-dev-light.svg",alt:""}})]),t._m(4)]),e("div",{staticClass:"nc-person-s"},[e("div",{staticClass:"nc-person-icon na-svg"},[e("img",{attrs:{src:"./assets/img/namecard/namecard-icon-game-light.svg",alt:""}})]),t._m(5)]),e("div",{staticClass:"nc-person-s"},[e("div",{staticClass:"nc-person-icon na-svg"},[e("img",{attrs:{src:"./assets/img/namecard/namecard-icon-code-light.svg",alt:""}})]),t._m(6)])]),e("div",{attrs:{id:"namecard-bg"}})])},at=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"namecard-profile-motto"}},[e("span",[t._v("Designer X Coder")])])},function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"Mailto:hello@isjeff.com"}},[e("div",{staticClass:"na-btn-label"},[e("span",[t._v("Contact")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"na-btn-label"},[e("span",[t._v("Share")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nc-person-des"},[e("span",[t._v("XR Researcher")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nc-person-des"},[e("span",[t._v("Full-Stack Designer")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nc-person-des"},[e("span",[t._v("Technical Artist")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nc-person-des"},[e("span",[t._v("Rapid Prototyper")])])}],nt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"avatar"}},[e("div",{ref:"renderTarget",style:"height: ".concat(t.canvasHeight,"px; width: ").concat(t.canvasWidth,"px; min-width: 320px;"),attrs:{id:"avatar-rt"}},[e("div",{attrs:{id:"avatar-like"}},[e("div",{attrs:{id:"avatar-like-btn"},on:{click:t.playDance}},[t._v("👍I love it")])])]),e("div",{style:"\n      display: ".concat(t.popingAni?"block":"none",";\n      animationName: ").concat(t.popingAni?"blurout":"none",";\n    "),attrs:{id:"three-overlay-blur"}}),e("div",{style:"display: ".concat(t.popingAni?"block":"none",";"),attrs:{id:"three-overlay-poping"}},[e("div",{style:"\n          display: ".concat(t.popingAni?"block":"none",";\n          animationName: ").concat(t.popingAni?"covering":"none",";\n        "),attrs:{id:"coverAni"}},[e("img",{attrs:{src:"./assets/img/anirain-1.png",alt:"bg",width:"100%",height:"100%"}})])]),e("div",{style:"display: ".concat(t.popingAni?"block":"none"),attrs:{id:"three-overlay-poping2"}},[e("div",{style:"\n        display: ".concat(t.popingAni?"block":"none",";\n        animationName: ").concat(t.popingAni?"poping":"none",";"),attrs:{id:"thankAni"}},[e("img",{attrs:{src:"./assets/img/thankyou.png",alt:"bg",width:"100%",height:"100%"}})])])])},st=[],ot=(i("c5f6"),i("5a89")),rt=i("4721"),ct=i("34ad"),lt=i("7129"),dt=null,pt=null,ut=[{type:"ambient",color:16777215,position:{x:0,y:0,z:0}},{type:"spot",color:16777215,position:{x:0,y:5,z:0},rotation:{x:0,y:45,z:0},intensive:5},{type:"spot",color:16777215,position:{x:3,y:5,z:0},rotation:{x:0,y:45,z:0},intensive:3},{type:"spot",color:16777215,position:{x:-3,y:5,z:0},rotation:{x:0,y:45,z:0},intensive:3}],ht={name:"avatar",components:{},props:{canvasHeight:Number,canvasWidth:Number},data:function(){return{sceneLoaded:!1,currentStateDance:!1,popingAni:!1,shouldRender:!1}},mounted:function(){var t=this;o.$on("avatar-render",(function(e){console.log("avatar-render: "+e),t.shouldRender=e})),this.sceneLoaded||this.$refs.renderTarget&&(this.InitRenderer(this.$refs.renderTarget),this.InitCamera(this.$refs.renderTarget),this.InitClock(),this.InitControls(),this.InitScene(),this.InitLights(),this.LoadAvatar(),this.animate(),this.sceneLoaded=!0)},methods:{InitScene:function(){v=new ot["eb"]},InitCamera:function(t){f=new ot["W"](40,t.clientWidth/t.clientHeight,.1,1e3),f.position.z=1.35},InitClock:function(){w=new ot["j"]},InitRenderer:function(t){m=new ot["tb"]({antialias:!0,alpha:!0}),m.setSize(t.clientWidth,t.clientHeight),m.setPixelRatio(window.devicePixelRatio),m.setClearColor(0,0),m.shadowMap=ot["V"],m.toneMapping=ot["a"],m.toneMappingExposure=.5,m.outputEncoding=ot["ub"],m.powerPreference="high-performance",t.appendChild(m.domElement)},InitLights:function(){ut.forEach((function(t){var e=null,i=null;"ambient"===t.type&&(e=new ot["b"](t.color,1)),"directional"===t.type&&(e=new ot["l"](t.color)),"point"===t.type&&(e=new ot["X"](t.color,1,100)),"spot"===t.type&&(e=new ot["jb"](t.color,t.intensive||1,10)),t.position&&e&&e.position.set(t.position.x,t.position.y,t.position.z),t.rotation&&e&&(e.rotateX(ot["I"].degToRad(t.rotation.x)),e.rotateY(ot["I"].degToRad(t.rotation.y)),e.rotateZ(ot["I"].degToRad(t.rotation.z))),e.castShadow=!0,v.add(e),i&&v.add(i)}))},InitControls:function(){b=new rt["a"](f,m.domElement),b.update()},LoadAvatar:function(){var t=this,e=new ct["a"];e.load("https://isjeffcom-1251089768.cos.ap-hongkong.myqcloud.com/avatars/jeffAni.glb",(function(i){_=new ot["d"](i.scene),i.scene.position.set(.06,-1.55,0),v.add(i.scene),pt=i,e.load("https://isjeffcom-1251089768.cos.ap-hongkong.myqcloud.com/avatars/jeffAniDance.glb",(function(e){dt=e.animations[0],pt.animations.push(dt),t.playNormal(),o.$emit("avatar-ready",!0)}))}),(function(t){console.log(t.loaded/t.total*100+"% loaded")}),(function(t){console.log("An error happened")}))},playNormal:function(){_.clipAction(pt.animations[1]).stop(),_.clipAction(pt.animations[0]).play()},playDance:function(){var t=this;this.currentStateDance=!0,Object(lt["a"])({origin:{x:.13,y:.65},angle:90,particleCount:90,zIndex:2e3}),_.clipAction(pt.animations[0]).stop(),_.clipAction(pt.animations[1]).play(),setTimeout((function(){t.popingAni=!0}),3e3),setTimeout((function(){_.clipAction(pt.animations[0]).play(),_.clipAction(pt.animations[1]).stop(),t.currentStateDance=!1,setTimeout((function(){t.popingAni=!1}),4500)}),4e3)},animate:function(){requestAnimationFrame(this.animate);var t=w.getDelta();_&&_.update(t),this.shouldRender&&(b.update(),this.render())},render:function(){m&&v&&f&&m.render(v,f)}}},gt=ht,mt=(i("ced3"),Object(L["a"])(gt,nt,st,!1,null,"0cd00c72",null)),ft=mt.exports,vt={name:"namecard",components:{avatar:ft},methods:{shareNC:function(){navigator.share({title:"JIANFENG's Portfolio",text:"Have a look on full-stack designer: JIANFENG's Portfolio",url:"https://isjeff.com"})}}},bt=vt,_t=(i("cf63"),Object(L["a"])(bt,it,at,!1,null,"e9087d36",null)),wt=_t.exports,yt={name:"home",components:{namecard:wt},props:{siteName:String,siteDes:String,base:String,navs:Array,files:Array},data:function(){return{api:"/front/posts/",page:1,postsList:[],postsTotal:0,pagesTotal:0,pageSize:9,namecardEnabled:!1,mobileView:!1}},created:function(){this.getPosts(this.page),this.mobileView=Object(y["isMobile"])()},mounted:function(){var t=this;o.$on("avatar-ready",(function(){t.$refs.namecardTrigger.addEventListener("mouseover",(function(){t.namecardEnabled||(t.$refs.namecardContainer.style.transform="translateX(-452px)")})),t.$refs.namecardTrigger.addEventListener("mouseleave",(function(){t.namecardEnabled||(t.$refs.namecardContainer.style.transform="translateX(-500px)")})),t.$refs.namecardTrigger.addEventListener("click",(function(){t.namecardEnabled=!0,t.$refs.namecardContainer.style.transform="translateX(0px)"})),t.$refs.namecardBg.addEventListener("click",(function(){t.namecardEnabled=!1,t.$refs.namecardContainer.style.transform="translateX(-500px)"}))}))},watch:{namecardEnabled:function(){o.$emit("avatar-render",this.namecardEnabled)}},activated:function(){o.$emit("set-meta",{title:"Home",des:this.siteDes})},methods:{getPosts:function(t){var e=this,i=this.pageToLimit(t),a=t?[{name:"ls",val:i},{name:"size",val:this.pageSize}]:[];this.$route.query.cate&&a.push({name:"cate",val:this.$route.query.cate}),d(this.base+this.api,a,(function(t){console.log(t),t.status&&(e.postsTotal=t.total,e.postsList=t.data,e.pagesTotal=Math.ceil(e.postsTotal/e.pageSize))})),o.$emit("show-footer",!0),o.$emit("set-meta",{title:"Home",des:this.siteDes})},sPage:function(t){if(1===t&&this.page!==this.pagesTotal)this.page=this.page+1;else{if(0!==t||1==this.page)return!1;this.page=this.page-1}this.getPosts(this.page)},pageToLimit:function(t){return(t-1)*this.pageSize},parseTitleImg:function(t){return Object(y["parseDiffImg"])(this.base,t)}}},xt=yt,kt=(i("d87e"),Object(L["a"])(xt,tt,et,!1,null,"3e6e680a",null)),Tt=kt.exports,Ct=function(){var t=this,e=t._self._c;return t.loaded?e("div",{attrs:{id:"post"}},[e("div",{attrs:{id:"post-title"}},[e("div",{attrs:{id:"post-title-inner"}},[e("span",[t._v(t._s(0===t.lang?t.postData.title:t.postData.title_sublang))])]),e("div",{attrs:{id:"post-title-info"}},[e("span",[t._v(t._s(t.postData.name)+" | "+t._s(t.postData.date_pub)+" | "+t._s(t.postData.ux_visit)+" Views")])])]),t.postData.title_img&&t.postData.title_img.length>1?e("div",{attrs:{id:"post-title-img"}},[e("div",{attrs:{id:"post-title-img-inner"}},[e("iimage",{attrs:{isrc:t.postData.title_img,ialt:"title image",width:"100%",height:"340px",mode:"grey"}})],1)]):t._e(),e("div",{attrs:{id:"post-contents"}},[0===t.lang?e("Editor",{ref:"editor_1",attrs:{editorId:"1",text:t.postData.content}}):t._e(),1===t.lang?e("Editor",{ref:"editor_2",attrs:{editorId:"2",text:t.postData.content_sublang}}):t._e(),t._m(0)],1),e("div",{attrs:{id:"post-like"}},[e("div",{attrs:{id:"post-like-inner"}},[e("div",{attrs:{id:"post-like-icon"},on:{click:t.like}},[e("div",{style:"transform: rotate("+t.like_rotate+"deg)",attrs:{id:"post-like-icon-bg"}}),e("img",{attrs:{src:i("8e44"),alt:"Like"}})]),e("div",{attrs:{id:"post-like-count"}},[e("span",[e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.postData.ux_likes))]),t._v(" Likes")])])])]),e("transition",{attrs:{name:"up"}},[t.popup?e("div",{attrs:{id:"post-popup"}},[e("div",{attrs:{id:"post-popup-inner"}},[e("div",{attrs:{id:"post-popup-info"}},[e("span",[t._v(t._s(t.popup_info))])]),e("div",{attrs:{id:"post-popup-button"},on:{click:t.popupAct}},[t._v(t._s(t.popup_action))])])]):t._e()]),t.showImgViewer&&t.viewingImg.length>1?e("image-viewer",{attrs:{imgWidth:t.viewingImgWidth,imgHeight:t.viewingImgHeight,path:t.viewingImg}}):t._e()],1):t._e()},It=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"posts-content-end"}},[e("div",{attrs:{id:"posts-content-end-inner"}},[e("span",[t._v(" - END - ")])])])}],Dt=function(){var t=this,e=t._self._c;return e("div",{ref:"iimage",style:"width:"+t.width+";height:"+t.height+";",attrs:{id:"iimage"}},[t.loaded?e("div",{ref:"real",class:t.tclass,style:"width:"+t.width+";height:"+t.height+";",attrs:{id:"real"}},[e("transition",{attrs:{name:"fade"}},[e("img",{style:"width:"+t.width+";height:"+t.height+";",attrs:{id:"realimg",src:t.isrc,alt:t.ialt},on:{load:t.imgLoaded}})])],1):t._e(),t.loaded?t._e():e("div",{ref:"placeholder",attrs:{id:"placeholder"}},[e("img",{staticClass:"phimg",attrs:{src:i("19e7"),alt:"Image placeholder"},on:{load:t.imgLoaded}})])])},Lt=[],$t={name:"iimage",props:{isrc:{type:String,default:""},ialt:{type:String,default:""},width:{type:String,default:"100px"},height:{type:String,default:"100px"},mode:{type:String,default:"normal"}},data:function(){return{loaded:!1,tclass:"normal"}},created:function(){this.tclass=this.mode},methods:{imgLoaded:function(){var t=this;setTimeout((function(){t.loaded=!0}),1e3)}}},Ot=$t,St=(i("5380"),Object(L["a"])(Ot,Dt,Lt,!1,null,"6e32e0f6",null)),jt=St.exports,At=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"image-viewer"}},[e("div",{attrs:{id:"image-viewer-close"},on:{click:t.close}},[e("img",{attrs:{id:"iv-close",src:i("8210"),alt:""}})]),e("div",{attrs:{id:"image-viewer-inner"}},[e("img",{attrs:{src:t.path,alt:"image"}})])])},Nt=[],Et={name:"viewimg",props:{imgWidth:Number,imgHeight:Number,path:String},methods:{close:function(){o.$emit("img-viewer-close",!0)}}},Pt=Et,Mt=(i("b287"),Object(L["a"])(Pt,At,Nt,!1,null,"2fe5d435",null)),Rt=Mt.exports,zt=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"editor-instance_".concat(t.editorId)}})])},Vt=[],qt=(i("96cf"),i("1da1")),Ht=i("9336"),Ft=i.n(Ht),Wt=i("3ecd"),Xt=i.n(Wt),Bt=i("71c0"),Jt=i.n(Bt),Yt=i("eb16"),Gt=i.n(Yt),Ut={name:"editor",components:{},props:{text:String,editorId:String},data:function(){return{editor:null}},created:function(){this.InitEditor()},methods:{InitEditor:function(){var t=this;this.editor=null,this.editor=new Ft.a({holder:"editor-instance_".concat(this.editorId),readOnly:!0,tools:{header:Xt.a,list:Jt.a,imageTool:Gt.a},onReady:function(){var e=Object(qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.text||!(t.text.length<1)){e.next=2;break}return e.abrupt("return");case 2:if("{"!==t.text[0]){e.next=7;break}return e.next=5,t.editor.blocks.render(JSON.parse(t.text));case 5:e.next=9;break;case 7:return e.next=9,t.editor.blocks.renderFromHTML(t.text);case 9:case"end":return e.stop()}}),e)})));function i(){return e.apply(this,arguments)}return i}()})}}},Qt=Ut,Kt=(i("a06b"),Object(L["a"])(Qt,zt,Vt,!1,null,null,null)),Zt=Kt.exports,te={name:"post",components:{iimage:jt,imageViewer:Rt,Editor:Zt},props:{base:String,files:Array,siteName:String},data:function(){return{api:"/front/posts/",api_up:"/front/like/",api_view:"/front/view/",loaded:!1,liked:!1,like_posted:!1,showImgViewer:!1,lang:0,like_rotate:15,postData:{},viewingImg:"",viewingImgWidth:0,viewingImgHeight:0,popup:!1,popup_info:"",popup_action:""}},mounted:function(){var t=this;window.addEventListener("click",(function(e){"IMG"==e.target.nodeName&&"image-tool__image-picture"==e.target.className&&t.handleImgViewer(e.target.src,e.target.naturalWidth,e.target.naturalHeight,!0)}))},created:function(){var t=this,e=this;o.$emit("show-footer",!1),this.pid=this.$route.query.pid,this.getData(),1==this.$route.query.lang?(this.lang=parseInt(this.$route.query.lang),this.switchLang(1,!0)):"CN"==Object(y["getCookie"])("v_region")?(this.switchLang(1,!0),this.alertLang()):this.setUrlParam(),setTimeout((function(){"CN"==Object(y["getCookie"])("v_region")&&0==t.lang&&(t.switchLang(1,!0),t.alertLang())}),3e3),o.$on("switchLang",(function(t){e.switchLang(t,!1)})),o.$on("img-viewer-close",(function(){e.handleImgViewer("",0,0,!1)})),0!=window.scrollY&&k()(0,0,{ease:"inOutQuart",duration:100})},methods:{getData:function(){var t=this;d(this.base+this.api,[{name:"pid",val:this.pid}],(function(e){e.status&&(t.postData=e.data,t.postData.content=Object(y["decodeRichText"])(t.postData.content),t.postData.content=Object(y["decodeImgSrc"])(t.postData.content,t.base),t.postData.title_img=t.parseTitleImg(t.postData.title_img),t.postData.ux_likes=parseInt(t.postData.ux_likes),t.postData.date_pub=t.postData.date_pub.substr(0,t.postData.date_pub.length-9),t.postData.content_sublang=Object(y["decodeRichText"])(t.postData.content_sublang),t.postData.content_sublang=Object(y["decodeImgSrc"])(t.postData.content_sublang,t.base),t.$nextTick((function(){t.loaded=!0,t.setMeta()}))),o.$emit("show-footer",!0)})),h(this.base+this.api_view,this.pid)},like:function(){var t=this;this.liked=!0,this.postData.ux_likes=this.postData.ux_likes+1,this.like_rotate=360==this.like_rotate?0:this.like_rotate+15,this.like_posted||p(this.base+this.api_up,{pid:this.pid},(function(e){console.log(e),e.status&&(t.like_posted=!0)}))},showPopup:function(t,e,i){var a=this;this.popup=!0,this.popup_info=t,this.popup_action=e,setTimeout((function(){a.popup=!1}),1e3*i)},popupAct:function(){this.switchLang(0,!0),this.popup=!1,Object(y["setCookie"])("v_region",0,0,!0)},alertLang:function(){this.showPopup("您可能在中国大陆地区，已切换为中文 You might visit from Mainland China, switch to Chinese.","BACK",10)},switchLang:function(t){this.lang=t,this.setMeta(),this.setUrlParam()},handleImgViewer:function(t,e,i,a){this.showImgViewer=a,a?(this.viewingImg=t,this.viewingImgWidth=e,this.viewingImgHeight=i):(this.viewingImg="",this.viewingImgWidth=0,this.viewingImgHeight=0)},setMeta:function(){var t=0==this.lang?this.postData.title:this.postData.title_sublang,e=0==this.lang?this.postData.brief:this.postData.brief_sublang;o.$emit("set-meta",{title:t,des:e})},setUrlParam:function(){this.$route.query.lang&&this.$route.query.lang==parseInt(this.lang)||this.$router.push({query:Object.assign({},this.$route.query,{lang:this.lang})})},parseTitleImg:function(t){return Object(y["parseDiffImg"])(this.base,t)}}},ee=te,ie=(i("14f4"),Object(L["a"])(ee,Ct,It,!1,null,null,null)),ae=ie.exports,ne=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"all"}},[e("div",{attrs:{id:"posts"}},[e("div",{attrs:{id:"posts-inner"}},t._l(t.blogsList,(function(i){return e("div",{key:i.id,staticClass:"post-single"},[e("div",{staticClass:"post-single-topbar"},[e("div",{staticClass:"post-single-author"},[e("div",{staticClass:"post-single-author-avator"},[e("img",{attrs:{src:t.parseTitleImg(i.users[0].avatar),alt:"Author avatar"}})]),e("div",{staticClass:"post-single-author-info"},[e("div",{staticClass:"post-single-author-name"},[e("span",[t._v(t._s(i.users[0].name))])]),e("div",{staticClass:"post-single-date"},[e("span",[t._v(t._s(i.date_modi?i.date_modi.slice(5,10):"2910-01-01")+" · "+t._s(i.ux_visit)+" views")])])])]),e("div",{staticClass:"post-single-like"},[e("div",{staticClass:"post-single-like-count"},[e("span",[t._v(t._s(i.ux_likes))])]),t._m(0,!0)])]),e("router-link",{attrs:{to:{path:"/post",query:{pid:i._id,from:"blog"}}}},[e("div",{staticClass:"post-single-titleimg"},[e("div",{staticClass:"post-single-filter"}),e("iimage",{attrs:{isrc:t.parseTitleImg(i.title_img),ialt:i.title,width:"100%",height:"330px"}})],1),e("div",{staticClass:"post-single-content"},[e("div",{staticClass:"post-single-content-title"},[e("span",[t._v(t._s(i.title))])]),e("div",{staticClass:"post-single-content-brief"},[e("span",[t._v(t._s(i.brief))])])])]),e("hr",{staticStyle:{opacity:".2"}})],1)})),0)])])},se=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"post-single-like-icon"},[e("img",{attrs:{src:i("8e44"),alt:""}})])}],oe={name:"home",components:{iimage:jt},props:{base:String,files:Array},data:function(){return{api:"/front/posts/",page:1,blogsList:[],postsTotal:0,pagesTotal:0,pageSize:10}},created:function(){this.$route.query.cate||this.$router.push({query:{cate:3}}),this.getData(this.page)},activated:function(){o.$emit("set-meta",{title:"Blog",des:this.siteDes})},methods:{getData:function(t){var e=this,i=this.pageToLimit(t),a=t?[{name:"ls",val:i},{name:"size",val:this.pageSize}]:[];a.push({name:"cate",val:this.$route.query.cate}),d(this.base+this.api,a,(function(t){console.log(t),t.status&&(e.postsTotal=t.total,e.blogsList=t.data,console.log(e.blogsList),e.pagesTotal=Math.ceil(e.postsTotal/e.pageSize))})),o.$emit("show-footer",!0),o.$emit("set-meta",{title:"Blog",des:this.siteDes})},sPage:function(t){if(1===t&&this.page!==this.pagesTotal)this.page=this.page+1;else{if(0!==t||1==this.page)return!1;this.page=this.page-1}this.getPosts(this.page)},pageToLimit:function(t){return(t-1)*this.pageSize},parseTitleImg:function(t){return Object(y["parseDiffImg"])(this.base,t)}}},re=oe,ce=(i("bfe4"),Object(L["a"])(re,ne,se,!1,null,"ab3ef5dc",null)),le=ce.exports;a["a"].use(Z["a"]);var de=new Z["a"]({mode:"history",routes:[{path:"/",name:"Home",redirect:"/home"},{path:"/home",name:"home",component:Tt},{path:"/post",name:"post",component:ae},{path:"/blog",name:"blog",component:le}]}),pe=i("bc3a"),ue=i.n(pe),he=i("a7fe"),ge=i.n(he),me=i("58ca");a["a"].use(ge.a,ue.a),a["a"].use(me["a"],{refreshOnceOnNavigation:!0}),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(K)},router:de}).$mount("#app")},6369:function(t,e,i){t.exports=i.p+"img/download.3da3c89e.svg"},"69e2":function(t,e,i){"use strict";i("9bae")},"768d":function(t,e,i){"use strict";i("0076")},8210:function(t,e,i){t.exports=i.p+"img/close_fill.a69a485f.svg"},8899:function(t,e,i){},"8e44":function(t,e,i){t.exports=i.p+"img/like.514599de.png"},"9bae":function(t,e,i){},a06b:function(t,e,i){"use strict";i("ad30")},abec:function(t,e,i){"use strict";i("17d6")},ad30:function(t,e,i){},b287:function(t,e,i){"use strict";i("b46e")},b46e:function(t,e,i){},be6c:function(t,e,i){},bfe4:function(t,e,i){"use strict";i("44e1")},ced3:function(t,e,i){"use strict";i("3b4a")},cf63:function(t,e,i){"use strict";i("8899")},d601:function(t,e,i){"use strict";i("be6c")},d87e:function(t,e,i){"use strict";i("db89")},db89:function(t,e,i){},deef:function(t,e,i){t.exports=i.p+"img/sup.45b34c25.png"},ef0a:function(t,e,i){},f830:function(t,e,i){}});
//# sourceMappingURL=app.7633aa10.js.map