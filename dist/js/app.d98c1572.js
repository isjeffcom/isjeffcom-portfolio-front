(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);p&&p(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},a={app:0},n=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var p=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"025e":function(t,e,i){"use strict";i.r(e),i.d(e,"decodeRichText",(function(){return a})),i.d(e,"decodeImgSrc",(function(){return n})),i.d(e,"getCookie",(function(){return o})),i.d(e,"setCookie",(function(){return r})),i.d(e,"isMobile",(function(){return l})),i.d(e,"parseDiffImg",(function(){return c}));i("28a5");var s=i("f940");function a(t){return t=s("|*|",'"',t),t=s("|**|","'",t),t}function n(t,e){return t=s("[%base%]",e,t),t}function o(t){for(var e=t+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){var a=i[s].trim();if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}function r(t,e,i,s){var a,n;o(t).length>1||(s?document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;":(n=864e5*i,a=new Date,a.setTime(a.getTime()+n),document.cookie=t+"="+e+";expires="+a.toGMTString()+";SameSite=Strict;"))}function l(){return screen.width<480}function c(t,e){return!e||e.length<1?null:-1!=e.indexOf("cos")?"https://"+e:t+e}},"17d6":function(t,e,i){},"19e7":function(t,e,i){t.exports=i.p+"img/image.134b1207.svg"},"44e1":function(t,e,i){},4829:function(t,e,i){},5380:function(t,e,i){"use strict";i("4829")},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var s=i("2b0e"),a=function(){var t=this,e=t._self._c;return t.loaded?e("div",{attrs:{id:"app"}},[e("topping",{directives:[{name:"show",rawName:"v-show",value:t.showTopping,expression:"showTopping"}],attrs:{base:t.api_base,toppingLogo:t.theme["Topping-Logo"].val}}),e("hheader",{ref:"headerRef",attrs:{id:"hheader",base:t.api_base,leftLogo:t.theme["Side-Logo"].val,centerLogo:t.theme["Center-Logo"].val,socialMedia:t.social_media}}),e("navs",{attrs:{id:"nnavs",navs:t.navs}}),e("div",{ref:"contentsRef",attrs:{id:"contents"}},[e("transition",{attrs:{name:"fade"}},[e("keep-alive",{attrs:{exclude:"post"}},[e("router-view",{attrs:{base:t.api_base,siteName:t.site.title,siteDes:t.site.desText,files:t.files}})],1)],1)],1),e("ffooter",{directives:[{name:"show",rawName:"v-show",value:t.showFooter,expression:"showFooter"}],attrs:{id:"ffooter",base:t.api_base,bottomLogo:t.theme["Footer-Logo"].val,icpNum:t.theme["China-ICP-License"].val}})],1):t._e()},n=[],o=new s["a"],r=(i("7f7f"),i("4328")),l=i("bc3a"),c=i("025e");function p(t,e,i){l.get(g(t,e)).then((function(t){i(t.data)})).catch((function(t){i({status:!1,msg:t,data:null})}))}function u(t,e,i){var s=r.stringify(e);l.post(t,s).then((function(t){i(t.data)})).catch((function(t){i({status:!1,msg:t,data:null})}))}function d(t,e){if(!c.getCookie("isjeffcom")){var i=parseInt(Math.ceil(1e3*Math.random())*Date.parse(new Date)/1e7);c.setCookie("isjeffcom",i,e,!1);var s={userAgent:navigator.userAgent,userLanguage:navigator.language,appName:navigator.appName,platform:navigator.platform};u(t,s,(function(t){if(t.status){var i=t.data;-1!=i.region.indexOf("CN")&&c.setCookie("v_region","CN",e,!1)}}))}}function h(t,e){var i={pid:e};u(t,i,(function(t){t.status}))}function g(t,e){if(e.length>0){t+="?";for(var i=0;i<e.length;i++)t=i==e.length-1?t+e[i].name+"="+e[i].val:t+e[i].name+"="+e[i].val+"&"}return t}var f=i("025e"),m=i("f351"),v=i.n(m),_=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"hheader"}},[e("div",{attrs:{id:"hheader-inner"}},[e("div",{ref:"hl",attrs:{id:"hheader-left"},on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:t.parseTitleImg(t.leftLogo),alt:"Logo"}})]),e("div",{ref:"hc",attrs:{id:"hheader-center"}},[e("img",{attrs:{id:"hheader-center-logo",src:t.parseTitleImg(t.centerLogo),alt:"Name"}}),e("img",{attrs:{id:"hheader-center-upbtn",src:i("deef"),alt:"Name"}})]),e("div",{attrs:{id:"hheader-right"}},["post"==t.mode||t.mobileView?t._e():e("div",{staticClass:"hheader-sm"},t._l(t.socialMedia,(function(i){return e("div",{key:i.id,staticClass:"hheader-sm-single"},[e("a",{attrs:{href:i.url}},[e("img",{staticClass:"hheader-sm-single-img",attrs:{src:t.parseTitleImg(i.icon),alt:i.name}})])])})),0),"post"==t.mode?e("div",{staticClass:"hheader-switcher"},[e("span",{staticClass:"hheader-switcher-single",style:0==t.lang?"font-weight: bold;":"font-weight: normal;",on:{click:function(e){return t.switchLang(0,!1)}}},[t._v("ENG")]),e("span",[t._v(" / ")]),e("span",{staticClass:"hheader-switcher-single",style:1==t.lang?"font-weight: bold;":"font-weight: normal;",on:{click:function(e){return t.switchLang(1,!1)}}},[t._v("中文")])]):t._e()])])])},b=[],w={name:"hheader",props:{base:String,leftLogo:String,centerLogo:String,socialMedia:Array},components:{},data:function(){return{nameLogoShown:!0,animating:!1,lang:0,mobileView:Object(f["isMobile"])(),mode:"home"}},watch:{$route:"initial"},mounted:function(){if(this.mobileView){var t=document.getElementById("hheader-center"),e=document.getElementById("hheader-left"),i=document.getElementById("hheader-right");window.addEventListener("scroll",(function(){window.scrollY>10?(t.style.opacity=1,e.style.opacity=0,i.style.top="-13px"):(t.style.opacity=0,e.style.opacity=1,i.style.top="5px")})),window.addEventListener("orientationchange",(function(){90==screen.orientation.angle||-90==screen.orientation.angle?t.style.top="-40px":t.style.top="0px"})),90==screen.orientation.angle||-90==screen.orientation.angle?t.style.top="-40px":t.style.top="0px"}},created:function(){this.initial()},methods:{initial:function(){var t=this;this.lang=parseInt(this.$route.query.lang),this.mode=this.$route.name,this.mobileView&&("home"==this.mode||"blog"==this.mode?this.$nextTick((function(){t.$refs.hl.style.left="41%",t.$refs.hc.style.left="0px"})):this.$nextTick((function(){t.$refs.hl.style.left="2%",t.$refs.hc.style.left=screen.width>320?"-108px":"-80px"})))},switchLang:function(t,e){this.lang=t,e||o.$emit("switchLang",t)},back:function(){1==history.length?this.$router.push("home"):this.$route.query.from?this.$router.push(this.$route.query.from):this.$router.push("home")},parseTitleImg:function(t){return Object(f["parseDiffImg"])(this.base,t)}}},y=w,T=(i("5a52"),i("2877")),x=Object(T["a"])(y,_,b,!1,null,"20b03982",null),k=x.exports,D=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"topping"}},[e("div",{attrs:{id:"topping-inner"}},[e("img",{attrs:{src:t.parseTitleImg(t.toppingLogo),alt:"Topping logo"}})])])},I=[],C={name:"topping",props:{base:String,toppingLogo:String},methods:{parseTitleImg:function(t){return Object(f["parseDiffImg"])(this.base,t)}}},O=C,L=(i("abec"),Object(T["a"])(O,D,I,!1,null,"5be9e2f8",null)),S=L.exports,$=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ffooter"}},[e("div",{attrs:{id:"f-inner"}},[e("div",{attrs:{id:"f-logo"},on:{click:t.toTop}},[e("img",{attrs:{src:t.parseTitleImg(t.bottomLogo),alt:"logo"}})]),e("div",{attrs:{id:"f-info"}},[e("span",[t._v("Design by JIANFENG WU | Powered by POSTER "),e("a",{attrs:{href:"http://www.miit.gov.cn/"}},[t._v(t._s(t.icpNum.length>0?"| "+t.icpNum:""))])])])])])},j=[],N={name:"ffooter",props:{bottomLogo:String,icpNum:String,base:String},components:{},data:function(){return{}},created:function(){},methods:{toTop:function(){v()(0,0,{ease:"inOutQuart",duration:500})},parseTitleImg:function(t){return Object(f["parseDiffImg"])(this.base,t)}}},P=N,M=(i("d601"),Object(T["a"])(P,$,j,!1,null,"0ac95c7e",null)),q=M.exports,A=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"navshow"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{id:"navs"}},[e("div",{attrs:{id:"navs-inner"}},t._l(t.navs,(function(i){return e("div",{key:i.id,staticClass:"navs-single"},[e("a",{attrs:{href:i.url}},[t._v(t._s(i.name))])])})),0)])])},E=[],V={name:"navs",props:{navs:Array},data:function(){return{show:!0}},watch:{$route:"initial"},created:function(){this.initial()},methods:{initial:function(){"post"===this.$route.name?this.show=!1:this.show=!0}}},R=V,H=(i("69e2"),Object(T["a"])(R,A,E,!1,null,"1964bac8",null)),F=H.exports,z={name:"app",components:{topping:S,hheader:k,navs:F,ffooter:q},metaInfo:function(){return{title:this.metaTitle,titleTemplate:"%s - "+this.site.title,meta:[{name:"description",content:this.metaDes}],htmlAttrs:{lang:"en",amp:!0}}},data:function(){return{api_base:"https://api.isjeff.com",api_site:"/front/home/",api_track:"/updater/visit/",mode:"home",pid:"1",loaded:!1,site:{},theme:{},navs:[],social_media:[],files:[],headerY:0,showTopping:!0,showFooter:!1,animating:!1,currentPosi:0,delay:3e3,damping:20,dontDisplayAni:!1,metaTitle:"Welcome",metaDes:"Hello"}},created:function(){var t=this,e=this;this.dontDisplayAni="true"==Object(f["getCookie"])("topping"),this.getSiteData(),setTimeout((function(){d(t.api_base+t.api_track,1)}),1e3),o.$on("set-meta",(function(t){e.setMeta(t)})),o.$on("show-footer",(function(t){e.showFot(t)}))},methods:{scrollToMain:function(){this.animating=!0;var t=this,e=this.delay;setTimeout((function(){t.loaded?v()(0,t.headerY,{ease:"inOutQuart",duration:500}):t.showTopping=!1}),e),setTimeout((function(){t.showTopping=!1,t.animating=!1,t.currentPosi=1}),e+550),Object(f["setCookie"])("topping",!0,3,!1)},showFot:function(t){this.showFooter=t},setMeta:function(t){this.metaTitle=t.title,this.metaDes=t.des},getSiteData:function(){var t=this,e=this;p(this.api_base+this.api_site,[],(function(i){if(i.status){var s=i.data,a=s.site,n=s.sm,o=s.nav;a.title=Object(f["decodeRichText"])(a.title),a.subtitle=Object(f["decodeRichText"])(a.subtitle),a.desText=Object(f["decodeRichText"])(a.desText),a.seoTitle=Object(f["decodeRichText"])(a.seoTitle),e.theme=JSON.parse(Object(f["decodeRichText"])(a.data_struct)),a.data_struct="",e.site=a,e.social_media=n,e.navs=o,e.files=[{name:"PDF-Portfolio",val:e.theme["PDF-Portfolio"]},{name:"CV-English",val:e.theme["CV-English"]},{name:"CV-Chinese",val:e.theme["CV-Chinese"]}],e.loaded=!0,t.dontDisplayAni?t.showTopping=!1:t.scrollToMain(),e.$nextTick((function(){e.headerY=e.$refs.headerRef.$el.offsetTop,e.setMeta({title:"Home",des:t.site.desText})}))}}))}}},W=z,B=(i("67af"),Object(T["a"])(W,a,n,!1,null,null,null)),J=B.exports,Y=i("8c4f"),U=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"all"}},[e("div",{attrs:{id:"posts"}},[e("div",{attrs:{id:"posts-inner"}},t._l(t.postsList,(function(i){return e("div",{key:i._id,staticClass:"post-single"},[e("router-link",{attrs:{to:{path:"/post",query:{pid:i._id,from:"home"}}}},[e("div",{staticClass:"post-single-title"},[e("span",[t._v(t._s(i.title))])]),e("div",{staticClass:"post-single-filter"}),e("img",{attrs:{src:t.parseTitleImg(i.title_img),alt:i.title}})])],1)})),0)]),t.postsTotal>9?e("div",{attrs:{id:"pagination"}},[e("div",{attrs:{id:"p-nav"}},[e("div",{staticClass:"p-single arrow-left",style:1===t.page?"opacity: .1":"opacity: 1",on:{click:function(e){return t.sPage(0)}}}),e("div",{staticClass:"p-single arrow-right",style:t.page===t.pagesTotal?"opacity: .1":"opacity: 1",on:{click:function(e){return t.sPage(1)}}})])]):t._e(),e("div",{attrs:{id:"files"}},[e("div",{staticClass:"files-cont"},t._l(t.files,(function(i,s){return e("div",{key:s,staticClass:"file-single"},[e("div",{staticClass:"file-single-inner"},[e("a",{staticStyle:{display:"flex","margin-left":"auto","margin-right":"auto"},attrs:{href:-1!=i.val.val.indexOf("http")?i.val.val:t.base+i.val.val,target:"_blank"}},[t._m(0,!0),e("div",{staticClass:"file-down-name"},[e("span",[t._v(t._s(i.name))])])])])])})),0)])])},G=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"file-down-icon"},[e("img",{attrs:{src:i("6369"),alt:""}})])}],Q={name:"home",components:{},props:{siteName:String,siteDes:String,base:String,navs:Array,files:Array},data:function(){return{api:"/front/posts/",page:1,postsList:[],postsTotal:0,pagesTotal:0,pageSize:9}},created:function(){this.getPosts(this.page)},activated:function(){o.$emit("set-meta",{title:"Home",des:this.siteDes})},methods:{getPosts:function(t){var e=this,i=this.pageToLimit(t),s=t?[{name:"ls",val:i},{name:"size",val:this.pageSize}]:[];this.$route.query.cate&&s.push({name:"cate",val:this.$route.query.cate}),p(this.base+this.api,s,(function(t){t.status&&(e.postsTotal=t.total,e.postsList=t.data,e.pagesTotal=Math.ceil(e.postsTotal/e.pageSize))})),o.$emit("show-footer",!0),o.$emit("set-meta",{title:"Home",des:this.siteDes})},sPage:function(t){if(1===t&&this.page!==this.pagesTotal)this.page=this.page+1;else{if(0!==t||1==this.page)return!1;this.page=this.page-1}this.getPosts(this.page)},pageToLimit:function(t){return(t-1)*this.pageSize},parseTitleImg:function(t){return Object(f["parseDiffImg"])(this.base,t)}}},K=Q,X=(i("6ff5"),Object(T["a"])(K,U,G,!1,null,"680f75be",null)),Z=X.exports,tt=function(){var t=this,e=t._self._c;return t.loaded?e("div",{attrs:{id:"post"}},[e("div",{attrs:{id:"post-title"}},[e("div",{attrs:{id:"post-title-inner"}},[e("span",[t._v(t._s(0===t.lang?t.postData.title:t.postData.title_sublang))])]),e("div",{attrs:{id:"post-title-info"}},[e("span",[t._v(t._s(t.postData.name)+" | "+t._s(t.postData.date_pub)+" | "+t._s(t.postData.ux_visit)+" Views")])])]),t.postData.title_img&&t.postData.title_img.length>1?e("div",{attrs:{id:"post-title-img"}},[e("div",{attrs:{id:"post-title-img-inner"}},[e("iimage",{attrs:{isrc:t.postData.title_img,ialt:"title image",width:"100%",height:"340px",mode:"grey"}})],1)]):t._e(),e("div",{attrs:{id:"post-contents"}},[0===t.lang?e("Editor",{ref:"editor_1",attrs:{editorId:"1",text:t.postData.content}}):t._e(),1===t.lang?e("Editor",{ref:"editor_2",attrs:{editorId:"2",text:t.postData.content_sublang}}):t._e(),t._m(0)],1),e("div",{attrs:{id:"post-like"}},[e("div",{attrs:{id:"post-like-inner"}},[e("div",{attrs:{id:"post-like-icon"},on:{click:t.like}},[e("div",{style:"transform: rotate("+t.like_rotate+"deg)",attrs:{id:"post-like-icon-bg"}}),e("img",{attrs:{src:i("8e44"),alt:"Like"}})]),e("div",{attrs:{id:"post-like-count"}},[e("span",[e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.postData.ux_likes))]),t._v(" Likes")])])])]),e("transition",{attrs:{name:"up"}},[t.popup?e("div",{attrs:{id:"post-popup"}},[e("div",{attrs:{id:"post-popup-inner"}},[e("div",{attrs:{id:"post-popup-info"}},[e("span",[t._v(t._s(t.popup_info))])]),e("div",{attrs:{id:"post-popup-button"},on:{click:t.popupAct}},[t._v(t._s(t.popup_action))])])]):t._e()]),t.showImgViewer&&t.viewingImg.length>1?e("image-viewer",{attrs:{imgWidth:t.viewingImgWidth,imgHeight:t.viewingImgHeight,path:t.viewingImg}}):t._e()],1):t._e()},et=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"posts-content-end"}},[e("div",{attrs:{id:"posts-content-end-inner"}},[e("span",[t._v(" - END - ")])])])}],it=function(){var t=this,e=t._self._c;return e("div",{ref:"iimage",style:"width:"+t.width+";height:"+t.height+";",attrs:{id:"iimage"}},[t.loaded?e("div",{ref:"real",class:t.tclass,style:"width:"+t.width+";height:"+t.height+";",attrs:{id:"real"}},[e("transition",{attrs:{name:"fade"}},[e("img",{style:"width:"+t.width+";height:"+t.height+";",attrs:{id:"realimg",src:t.isrc,alt:t.ialt},on:{load:t.imgLoaded}})])],1):t._e(),t.loaded?t._e():e("div",{ref:"placeholder",attrs:{id:"placeholder"}},[e("img",{staticClass:"phimg",attrs:{src:i("19e7"),alt:"Image placeholder"},on:{load:t.imgLoaded}})])])},st=[],at={name:"iimage",props:{isrc:{type:String,default:""},ialt:{type:String,default:""},width:{type:String,default:"100px"},height:{type:String,default:"100px"},mode:{type:String,default:"normal"}},data:function(){return{loaded:!1,tclass:"normal"}},created:function(){this.tclass=this.mode},methods:{imgLoaded:function(){var t=this;setTimeout((function(){t.loaded=!0}),1e3)}}},nt=at,ot=(i("5380"),Object(T["a"])(nt,it,st,!1,null,"6e32e0f6",null)),rt=ot.exports,lt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"image-viewer"}},[e("div",{attrs:{id:"image-viewer-close"},on:{click:t.close}},[e("img",{attrs:{id:"iv-close",src:i("8210"),alt:""}})]),e("div",{attrs:{id:"image-viewer-inner"}},[e("img",{attrs:{src:t.path,alt:"image"}})])])},ct=[],pt=(i("c5f6"),{name:"viewimg",props:{imgWidth:Number,imgHeight:Number,path:String},methods:{close:function(){o.$emit("img-viewer-close",!0)}}}),ut=pt,dt=(i("b287"),Object(T["a"])(ut,lt,ct,!1,null,"2fe5d435",null)),ht=dt.exports,gt=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"editor-instance_".concat(t.editorId)}})])},ft=[],mt=(i("96cf"),i("1da1")),vt=i("9336"),_t=i.n(vt),bt=i("3ecd"),wt=i.n(bt),yt=i("71c0"),Tt=i.n(yt),xt=i("eb16"),kt=i.n(xt),Dt={name:"editor",components:{},props:{text:String,editorId:String},data:function(){return{editor:null}},created:function(){this.InitEditor()},methods:{InitEditor:function(){var t=this;this.editor=null,this.editor=new _t.a({holder:"editor-instance_".concat(this.editorId),readOnly:!0,tools:{header:wt.a,list:Tt.a,imageTool:kt.a},onReady:function(){var e=Object(mt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.text||!(t.text.length<1)){e.next=2;break}return e.abrupt("return");case 2:if("{"!==t.text[0]){e.next=7;break}return e.next=5,t.editor.blocks.render(JSON.parse(t.text));case 5:e.next=9;break;case 7:return e.next=9,t.editor.blocks.renderFromHTML(t.text);case 9:case"end":return e.stop()}}),e)})));function i(){return e.apply(this,arguments)}return i}()})}}},It=Dt,Ct=(i("a06b"),Object(T["a"])(It,gt,ft,!1,null,null,null)),Ot=Ct.exports,Lt={name:"post",components:{iimage:rt,imageViewer:ht,Editor:Ot},props:{base:String,files:Array,siteName:String},data:function(){return{api:"/front/posts/",api_up:"/front/like/",api_view:"/front/view/",loaded:!1,liked:!1,like_posted:!1,showImgViewer:!1,lang:0,like_rotate:15,postData:{},viewingImg:"",viewingImgWidth:0,viewingImgHeight:0,popup:!1,popup_info:"",popup_action:""}},mounted:function(){var t=this;window.addEventListener("click",(function(e){"IMG"==e.target.nodeName&&"image-tool__image-picture"==e.target.className&&t.handleImgViewer(e.target.src,e.target.naturalWidth,e.target.naturalHeight,!0)}))},created:function(){var t=this,e=this;o.$emit("show-footer",!1),this.pid=this.$route.query.pid,this.getData(),1==this.$route.query.lang?(this.lang=parseInt(this.$route.query.lang),this.switchLang(1,!0)):"CN"==Object(f["getCookie"])("v_region")?(this.switchLang(1,!0),this.alertLang()):this.setUrlParam(),setTimeout((function(){"CN"==Object(f["getCookie"])("v_region")&&0==t.lang&&(t.switchLang(1,!0),t.alertLang())}),3e3),o.$on("switchLang",(function(t){e.switchLang(t,!1)})),o.$on("img-viewer-close",(function(){e.handleImgViewer("",0,0,!1)})),0!=window.scrollY&&v()(0,0,{ease:"inOutQuart",duration:100})},methods:{getData:function(){var t=this;p(this.base+this.api,[{name:"pid",val:this.pid}],(function(e){e.status&&(t.postData=e.data,t.postData.content=Object(f["decodeRichText"])(t.postData.content),t.postData.content=Object(f["decodeImgSrc"])(t.postData.content,t.base),t.postData.title_img=t.parseTitleImg(t.postData.title_img),t.postData.ux_likes=parseInt(t.postData.ux_likes),t.postData.date_pub=t.postData.date_pub.substr(0,t.postData.date_pub.length-9),t.postData.content_sublang=Object(f["decodeRichText"])(t.postData.content_sublang),t.postData.content_sublang=Object(f["decodeImgSrc"])(t.postData.content_sublang,t.base),t.$nextTick((function(){t.loaded=!0,t.setMeta()}))),o.$emit("show-footer",!0)})),h(this.base+this.api_view,this.pid)},like:function(){var t=this;this.liked=!0,this.postData.ux_likes=this.postData.ux_likes+1,this.like_rotate=360==this.like_rotate?0:this.like_rotate+15,this.like_posted||u(this.base+this.api_up,{pid:this.pid},(function(e){e.status&&(t.like_posted=!0)}))},showPopup:function(t,e,i){var s=this;this.popup=!0,this.popup_info=t,this.popup_action=e,setTimeout((function(){s.popup=!1}),1e3*i)},popupAct:function(){this.switchLang(0,!0),this.popup=!1,Object(f["setCookie"])("v_region",0,0,!0)},alertLang:function(){this.showPopup("您可能在中国大陆地区，已切换为中文 You might visit from Mainland China, switch to Chinese.","BACK",10)},switchLang:function(t){this.lang=t,this.setMeta(),this.setUrlParam()},handleImgViewer:function(t,e,i,s){this.showImgViewer=s,s?(this.viewingImg=t,this.viewingImgWidth=e,this.viewingImgHeight=i):(this.viewingImg="",this.viewingImgWidth=0,this.viewingImgHeight=0)},setMeta:function(){var t=0==this.lang?this.postData.title:this.postData.title_sublang,e=0==this.lang?this.postData.brief:this.postData.brief_sublang;o.$emit("set-meta",{title:t,des:e})},setUrlParam:function(){this.$route.query.lang&&this.$route.query.lang==parseInt(this.lang)||this.$router.push({query:Object.assign({},this.$route.query,{lang:this.lang})})},parseTitleImg:function(t){return Object(f["parseDiffImg"])(this.base,t)}}},St=Lt,$t=(i("873a"),Object(T["a"])(St,tt,et,!1,null,null,null)),jt=$t.exports,Nt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"all"}},[e("div",{attrs:{id:"posts"}},[e("div",{attrs:{id:"posts-inner"}},t._l(t.blogsList,(function(i){return e("div",{key:i.id,staticClass:"post-single"},[e("div",{staticClass:"post-single-topbar"},[e("div",{staticClass:"post-single-author"},[e("div",{staticClass:"post-single-author-avator"},[e("img",{attrs:{src:t.parseTitleImg(i.users[0].avatar),alt:"Author avatar"}})]),e("div",{staticClass:"post-single-author-info"},[e("div",{staticClass:"post-single-author-name"},[e("span",[t._v(t._s(i.users[0].name))])]),e("div",{staticClass:"post-single-date"},[e("span",[t._v(t._s(i.date_modi?i.date_modi.slice(5,10):"2910-01-01")+" · "+t._s(i.ux_visit)+" views")])])])]),e("div",{staticClass:"post-single-like"},[e("div",{staticClass:"post-single-like-count"},[e("span",[t._v(t._s(i.ux_likes))])]),t._m(0,!0)])]),e("router-link",{attrs:{to:{path:"/post",query:{pid:i._id,from:"blog"}}}},[e("div",{staticClass:"post-single-titleimg"},[e("div",{staticClass:"post-single-filter"}),e("iimage",{attrs:{isrc:t.parseTitleImg(i.title_img),ialt:i.title,width:"100%",height:"330px"}})],1),e("div",{staticClass:"post-single-content"},[e("div",{staticClass:"post-single-content-title"},[e("span",[t._v(t._s(i.title))])]),e("div",{staticClass:"post-single-content-brief"},[e("span",[t._v(t._s(i.brief))])])])]),e("hr",{staticStyle:{opacity:".2"}})],1)})),0)])])},Pt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"post-single-like-icon"},[e("img",{attrs:{src:i("8e44"),alt:""}})])}],Mt={name:"home",components:{iimage:rt},props:{base:String,files:Array},data:function(){return{api:"/front/posts/",page:1,blogsList:[],postsTotal:0,pagesTotal:0,pageSize:10}},created:function(){this.$route.query.cate||this.$router.push({query:{cate:3}}),this.getData(this.page)},activated:function(){o.$emit("set-meta",{title:"Blog",des:this.siteDes})},methods:{getData:function(t){var e=this,i=this.pageToLimit(t),s=t?[{name:"ls",val:i},{name:"size",val:this.pageSize}]:[];s.push({name:"cate",val:this.$route.query.cate}),p(this.base+this.api,s,(function(t){console.log(t),t.status&&(e.postsTotal=t.total,e.blogsList=t.data,console.log(e.blogsList),e.pagesTotal=Math.ceil(e.postsTotal/e.pageSize))})),o.$emit("show-footer",!0),o.$emit("set-meta",{title:"Blog",des:this.siteDes})},sPage:function(t){if(1===t&&this.page!==this.pagesTotal)this.page=this.page+1;else{if(0!==t||1==this.page)return!1;this.page=this.page-1}this.getPosts(this.page)},pageToLimit:function(t){return(t-1)*this.pageSize},parseTitleImg:function(t){return Object(f["parseDiffImg"])(this.base,t)}}},qt=Mt,At=(i("bfe4"),Object(T["a"])(qt,Nt,Pt,!1,null,"ab3ef5dc",null)),Et=At.exports;s["a"].use(Y["a"]);var Vt=new Y["a"]({mode:"history",routes:[{path:"/",name:"Home",redirect:"/home"},{path:"/home",name:"home",component:Z},{path:"/post",name:"post",component:jt},{path:"/blog",name:"blog",component:Et}]}),Rt=i("bc3a"),Ht=i.n(Rt),Ft=i("a7fe"),zt=i.n(Ft),Wt=i("58ca");s["a"].use(zt.a,Ht.a),s["a"].use(Wt["a"],{refreshOnceOnNavigation:!0}),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(J)},router:Vt}).$mount("#app")},"5a52":function(t,e,i){"use strict";i("c796")},6369:function(t,e,i){t.exports=i.p+"img/download.3da3c89e.svg"},"67af":function(t,e,i){"use strict";i("882f")},"69e2":function(t,e,i){"use strict";i("9bae")},"6ff5":function(t,e,i){"use strict";i("b4c9")},8210:function(t,e,i){t.exports=i.p+"img/close_fill.a69a485f.svg"},"873a":function(t,e,i){"use strict";i("8ef5")},"882f":function(t,e,i){},"8e44":function(t,e,i){t.exports=i.p+"img/like.514599de.png"},"8ef5":function(t,e,i){},"9bae":function(t,e,i){},a06b:function(t,e,i){"use strict";i("ad30")},abec:function(t,e,i){"use strict";i("17d6")},ad30:function(t,e,i){},b287:function(t,e,i){"use strict";i("b46e")},b46e:function(t,e,i){},b4c9:function(t,e,i){},be6c:function(t,e,i){},bfe4:function(t,e,i){"use strict";i("44e1")},c796:function(t,e,i){},d601:function(t,e,i){"use strict";i("be6c")},deef:function(t,e,i){t.exports=i.p+"img/sup.45b34c25.png"}});
//# sourceMappingURL=app.d98c1572.js.map